#include "stateeval.hpp"

static inline const int WhitePawnTable[64] = {100,100,100,100,100,100,100,100,
                                150,150,150,150,150,150,150,150,
                                110,110,120,130,130,120,110,110,
                                105,105,110,125,125,110,105,105,
                                100,100,100,120,120,100,100,100,
                                105, 95, 90,100,100, 90, 95,105,
                                105,110,110, 80, 80,110,110,105,
                                100,100,100,100,100,100,100,100};
static inline const int BlackPawnTable[64] = {-100,-100,-100,-100,-100,-100,-100,-100,
                                -105,-110,-110,- 80,- 80,-110,-110,-105,
                                -105,- 95,- 90,-100,-100, -90,- 95,-105,
                                -100,-100,-100,-120,-120,-100,-100,-100,
                                -105,-105,-110,-125,-125,-110,-105,-105,
                                -110,-110,-120,-130,-130,-120,-110,-110,
                                -150,-150,-150,-150,-150,-150,-150,-150,
                                -100,-100,-100,-100,-100,-100,-100,-100};
static inline const int WhiteKnightTable[64] = {270,280,290,290,290,290,280,270,
                                                280,300,320,320,320,320,300,280,
                                                290,320,330,335,335,330,320,290,
                                                290,325,335,340,340,335,325,290,
                                                290,325,335,340,340,335,325,290,
                                                290,320,330,335,335,330,320,290,
                                                280,300,320,320,320,320,300,280,
                                                270,280,290,290,290,290,280,270};
static inline const int BlackKnightTable[64] = {-270,-280,-290,-290,-290,-290,-280,-270,
                                                -280,-300,-320,-320,-320,-320,-300,-280,
                                                -290,-320,-330,-335,-335,-330,-320,-290,
                                                -290,-325,-335,-340,-340,-335,-325,-290,
                                                -290,-325,-335,-340,-340,-335,-325,-290,
                                                -290,-320,-330,-335,-335,-330,-320,-290,
                                                -280,-300,-320,-320,-320,-320,-300,-280,
                                                -270,-280,-290,-290,-290,-290,-280,-270};
static inline const int WhiteBishopTable[64] = {310,320,320,320,320,320,320,310,
                                                320,330,330,330,330,330,330,320,
                                                320,330,335,340,340,335,330,320,
                                                320,335,335,340,340,335,335,320,
                                                320,330,340,340,340,340,330,320,
                                                320,340,340,340,340,340,340,320,
                                                320,335,330,330,330,330,335,320,
                                                310,320,320,320,320,320,320,310};
static inline const int BlackBishopTable[64] = {-310,-320,-320,-320,-320,-320,-320,-310,
                                                -320,-335,-330,-330,-330,-330,-335,-320,
                                                -320,-340,-340,-340,-340,-340,-340,-320,
                                                -320,-330,-340,-340,-340,-340,-330,-320,
                                                -320,-335,-335,-340,-340,-335,-335,-320,
                                                -320,-330,-335,-340,-340,-335,-330,-320,
                                                -320,-330,-330,-330,-330,-330,-330,-320,
                                                -310,-320,-320,-320,-320,-320,-320,-310};
static inline const int WhiteRookTable[64] = {500,500,500,500,500,500,500,500,
                                              505,510,510,510,510,510,510,505,
                                              495,500,500,500,500,500,500,495,
                                              495,500,500,500,500,500,500,495,
                                              495,500,500,500,500,500,500,495,
                                              495,500,500,500,500,500,500,495,
                                              495,500,500,500,500,500,500,495,
                                              500,500,500,505,505,500,500,500};
static inline const int BlackRookTable[64] = {-500,-500,-500,-505,-505,-500,-500,-500,
                                              -495,-500,-500,-500,-500,-500,-500,-495,
                                              -495,-500,-500,-500,-500,-500,-500,-495,
                                              -495,-500,-500,-500,-500,-500,-500,-495,
                                              -495,-500,-500,-500,-500,-500,-500,-495,
                                              -495,-500,-500,-500,-500,-500,-500,-495,
                                              -505,-510,-510,-510,-510,-510,-510,-505,
                                              -500,-500,-500,-500,-500,-500,-500,-500};
static inline const int WhiteQueenTable[64] = {880,890,890,895,895,890,890,880,
                                               890,900,900,900,900,900,900,890,
                                               890,900,905,905,905,905,900,890,
                                               895,900,905,905,905,905,900,895,
                                               900,900,905,905,905,905,900,895,
                                               890,905,905,905,905,905,900,890,
                                               890,900,905,900,900,900,900,890,
                                               880,890,890,895,895,890,890,880};
static inline const int BlackQueenTable[64] = {-880,-890,-890,-895,-895,-890,-890,-880,
                                               -890,-900,-900,-900,-900,-905,-900,-890,
                                               -890,-900,-905,-905,-905,-905,-905,-890,
                                               -895,-900,-905,-905,-905,-905,-900,-900,
                                               -895,-900,-905,-905,-905,-905,-900,-895,
                                               -890,-900,-905,-905,-905,-905,-900,-890,
                                               -890,-900,-900,-900,-900,-900,-900,-890,
                                               -880,-890,-890,-895,-895,-890,-890,-880};
int Game::evaluateGameState() {
    int total = 0;
    for (int i = 0; i < 64; i++) {
        u8 piece = board[i];
        if (piece == 0) {
            continue;
        }
        if (piece == Pieces::WhitePawn) {
            total += WhitePawnTable[i];
        }
        if (piece == Pieces::BlackPawn) {
            total += BlackPawnTable[i];
        }
        if (piece == Pieces::WhiteKnight) {
            total += WhiteKnightTable[i];
        }
        if (piece == Pieces::BlackKnight) {
            total += BlackKnightTable[i];
        }
        if (piece == Pieces::WhiteBishop) {
            total += WhiteBishopTable[i];
        }
        if (piece == Pieces::BlackBishop) {
            total += BlackBishopTable[i];
        }
        if (piece == Pieces::WhiteRook) {
            total += WhiteRookTable[i];
        }
        if (piece == Pieces::BlackRook) {
            total += BlackRookTable[i];
        }
        if (piece == Pieces::WhiteQueen) {
            total += WhiteQueenTable[i];
        }
        if (piece == Pieces::BlackQueen) {
            total += BlackQueenTable[i];
        }
        if (piece == Pieces::WhiteKing) {
            total += 20000;
        }
        if (piece == Pieces::BlackKing) {
            total += -20000;
        }
    }
    return total;
}
